<!DOCTYPE html>
<html>
<body>

  <ul class="tree" id="tree">
    <li>HTML
      <ul>
        <li>CSS
          <ul>
            <li>Шрифты</li>
            <li>Ссылки</li>
            <li>Таблицы</li>
          </ul>
        </li>
        <li>JavaScript
          <ul>
            <li>Основы</li>
            <li>Выражения</li>
            <li>Циклы</li>
          </ul>
        </li>
      </ul>
    </li>
    <li>Таблицы
      <ul>
        <li>Границы
          <ul>
            <li>Ширина</li>
            <li>Высота</li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>

<script>
for (let li of tree.querySelectorAll('li')) {
var span = document.createElement('span');
li.prepend(span);
span.append(span.nextSibling); 
}


tree.onclick = function(event) {

if (event.target.tagName != 'SPAN') {
return;
}

var childrenContainer = event.target.parentNode.querySelector('ul');
if (!childrenContainer) return; 

childrenContainer.hidden = !childrenContainer.hidden;
}
</script>

</body>
</html>
